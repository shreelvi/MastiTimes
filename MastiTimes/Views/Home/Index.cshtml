@model List<MastiTimes.Models.Results>


@{
    ViewData["Title"] = "Home Page";
}

<style>
    @@media (min-width: 1200px) {
        .container-home {
            width: 800px;
            float: left;
        }
    }

    .widget-box-popular {
        border: 1px solid #d3d3d3;
        margin: 10px 0;
        display: inline-block;
        width: 300px;
        float: right;
    }

    .tdiv {
        overflow: hidden;
        position: relative;
        display: block;
        min-height: 70px;
        background-color: #000;
        vertical-align: central;
        margin: 0 auto;
        width: 110px;
    }

    .card-img-top{
        /*height: 280px;*/
        width: 220px;
        padding: 0px 0px 0px 15px;
    }  

    /* Banner slider home page*/

    @@media (min-width: 768px) {
        /* show 3 items */
        .carousel-inner .active,
        .carousel-inner .active + .carousel-item,
        .carousel-inner .active + .carousel-item + .carousel-item {
            display: block;
        }

        .carousel-inner .carousel-item.active:not(.carousel-item-right):not(.carousel-item-left),
        .carousel-inner .carousel-item.active:not(.carousel-item-right):not(.carousel-item-left) + .carousel-item,
        .carousel-inner .carousel-item.active:not(.carousel-item-right):not(.carousel-item-left) + .carousel-item + .carousel-item {
            transition: none;
            margin-right: initial;
        }

        .carousel-inner .carousel-item-next,
        .carousel-inner .carousel-item-prev {
            position: relative;
            transform: translate3d(0, 0, 0);
        }

        .carousel-inner .active.carousel-item + .carousel-item + .carousel-item + .carousel-item {
            position: absolute;
            top: 0;
            right: -33.3333%;
            z-index: -1;
            display: block;
            visibility: visible;
        }
        /* left or forward direction */
        .active.carousel-item-left + .carousel-item-next.carousel-item-left,
        .carousel-item-next.carousel-item-left + .carousel-item,
        .carousel-item-next.carousel-item-left + .carousel-item + .carousel-item,
        .carousel-item-next.carousel-item-left + .carousel-item + .carousel-item + .carousel-item {
            position: relative;
            transform: translate3d(-100%, 0, 0);
            visibility: visible;
        }
        /* farthest right hidden item must be abso position for animations */
        .carousel-inner .carousel-item-prev.carousel-item-right {
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
            display: block;
            visibility: visible;
        }
        /* right or prev direction */
        .active.carousel-item-right + .carousel-item-prev.carousel-item-right,
        .carousel-item-prev.carousel-item-right + .carousel-item,
        .carousel-item-prev.carousel-item-right + .carousel-item + .carousel-item,
        .carousel-item-prev.carousel-item-right + .carousel-item + .carousel-item + .carousel-item {
            position: relative;
            transform: translate3d(100%, 0, 0);
            visibility: visible;
            display: block;
            visibility: visible;
        }
    }

    
</style>

<!-- CSS and JS for now playing and coming soon poster sliders-->
<!--auto compiled css & Js-->
<script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.js"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

<!-- JavaScript for adding
 slider for multiple images
 shown at once-->
<script type="text/javascript">
$(window).load(function () {
    $(".carousel .item").each(function () {
        var i = $(this).next();
        i.length || (i = $(this).siblings(":first")),
            i.children(":first-child").clone().appendTo($(this));

        for (var n = 0; n < 4; n++)(i = i.next()).length ||
            (i = $(this).siblings(":first")),
            i.children(":first-child").clone().appendTo($(this))
    })
});



</script>
<!-- CSS and JS END for Sliders-->


<div class="container-home">
    <div class="text-center">
        <h1 class="display-4">Welcome</h1>
        <p>Learn about movie show times, events, activities and more.. happening in Nepal.</p>
        <br />
        <h4>Now Showing Movies in Kathmandu</h4>
    </div>

    <div class="container-fluid">
        <div id="carouselExample" class="carousel slide" data-ride="carousel" data-interval="9000">
            <div class="carousel-inner row w-10 mxauto" role="listbox">
                @{
                    bool act = true;
                }
                @for(int i=0; i<9; i++)
                {
                    if (act)
                    {
                        <div class="carousel-item col-md-4 active">
                            <img class="img-fluid mx-auto d-bloc" src="@Model[i].poster_path" alt="slide">
                        </div>
                    }
                    else
                    {
                        <div class="carousel-item col-md-4">
                            <img class="img-fluid mx-auto d-bloc" src="@Model[i].poster_path" alt="slide">
                        </div>
                    }
                    act = false;
                }                 
            </div>

            <a class="carousel-control-prev" href="#carouselExample" role="button" data-slide="prev">
                <i class="glyphicon glyphicon-chevron-left"></i>
                <span class="sr-only">Previous</span>
            </a>

            <a class="carousel-control-next text-faded" href="#carouselExample" role="button" data-slide="next">
                <i class="glyphicon glyphicon-chevron-right"></i>
                <span class="sr-only">Next</span>
            </a>

        </div>
    </div>


    <nav class="navbar ">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html">New and Upcoming Movies</a>
            </div>
        </div>
    </nav>

    <!-- container class for bootstrap card-->
    <div class="container" style="width:800px">
        <!-- bootstrap card with row name myCarousel as row 1-->
        <div class="carousel slide" id="myCarousel">
            <div class="carousel-inner">
                @{
                    bool active = true;
                }
                @foreach (var movie in Model)
                {
                    if (active)
                    {
                        <div class="item active">
                            <div class="col-xs-2">

                                <a href='@Url.Action("GetSelectedMovie", "Home",
                                    new { id = @movie.ID })' target="_blank">
                                    <img src="@movie.poster_path"
                                         class="img-responsive">
                                    @Html.ActionLink(@movie.title, "GetSelectedMovie", "Home", new { id = movie.imdbID })
                                </a>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="item">
                            <div class="col-xs-2">

                                <a href='@Url.Action("GetSelectedMovie", "Home", new { id = @movie.ID })'>
                                    <img src="@movie.poster_path"
                                         class="img-responsive">
                                    @Html.ActionLink(@movie.title, "GetSelectedMovie", "Home", new { id = movie.imdbID })
                                </a>
                            </div>
                        </div>
                    }
                    active = false;
                }

            </div> <a class="left carousel-control"
                      href="#myCarousel"
                      data-slide="prev">
                <i class="glyphicon glyphicon-chevron-left">
                </i>
            </a>
            <a class="right carousel-control"
               href="#myCarousel"
               data-slide="next">
                <i class="glyphicon glyphicon-chevron-right">
                </i>
            </a>

        </div>
    </div>
</div>

<div class="widget-box-popular">
    <h4>&nbsp;&nbsp; Popular News</h4>
    <table class="table">
        <tbody>
            @foreach (var article in ViewBag.Articles)
            {

                <tr>
                    <td class="movie">
                        <a href="@article.url" target="_blank">
                            @article.title
                        </a><br />
                    </td>
                    <td class="news-thumbnail">
                        <div class="tdiv">
                            <a href="@article.url" target="_blank">
                                <img src="@article.urlToImage" style="height:80px; width:100px" />
                            </a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>


















